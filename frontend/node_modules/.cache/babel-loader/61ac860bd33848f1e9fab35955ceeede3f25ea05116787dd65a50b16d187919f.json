{"ast":null,"code":"const API_BASE_URL = 'http://localhost:8000';\nconst apiRequest = async (endpoint, options = {}) => {\n  const url = `${API_BASE_URL}${endpoint}`;\n  const config = {\n    headers: {\n      'Content-Type': 'application/json',\n      ...options.headers\n    },\n    ...options\n  };\n  const token = localStorage.getItem('authToken');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  try {\n    const response = await fetch(url, config);\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      throw new Error(errorData.detail || `HTTP error! status: ${response.status}`);\n    }\n    return await response.json();\n  } catch (error) {\n    console.error('API request failed;', error);\n    throw error;\n  }\n};\nexport const authAPI = {\n  register: async userData => {\n    return apiRequest('/api/auth/register', {\n      method: 'POST',\n      body: JSON.stringify(userData)\n    });\n  },\n  login: async credentials => {\n    return apiRequest('/api/auth/login', {\n      method: 'POST',\n      body: JSON.stringify(credentials)\n    });\n  },\n  getCurrentUser: async () => {\n    return apiRequest('/api/auth/me');\n  }\n};\nexport const reviewAPI = {\n  createReview: async reviewData => {\n    return apiRequest('/api/reviews', {\n      method: 'POST',\n      body: JSON.stringify(reviewData)\n    });\n  },\n  getMovieReviews: async movieId => {\n    return apiRequest(`/api/reviews/movie/${movieId}`);\n  },\n  getUserReviews: async () => {\n    return apiRequest('/api/reviews/user');\n  },\n  deleteReview: async reviewId => {\n    return apiRequest(`/api/reviews/${reviewId}`, {\n      method: 'DELETE'\n    });\n  }\n};\nexport const movieAPI = {\n  getMovieDetails: async movieId => {\n    return apiRequest('/api/movie');\n  }\n};\nexport const healthCheck = async () => {\n  return apiRequest('/api/health');\n};","map":{"version":3,"names":["API_BASE_URL","apiRequest","endpoint","options","url","config","headers","token","localStorage","getItem","Authorization","response","fetch","ok","errorData","json","catch","Error","detail","status","error","console","authAPI","register","userData","method","body","JSON","stringify","login","credentials","getCurrentUser","reviewAPI","createReview","reviewData","getMovieReviews","movieId","getUserReviews","deleteReview","reviewId","movieAPI","getMovieDetails","healthCheck"],"sources":["C:/Users/Bishal/OneDrive/Desktop/movie-review-app/frontend/src/services/api.js"],"sourcesContent":["const API_BASE_URL = 'http://localhost:8000';\r\n\r\nconst apiRequest = async (endpoint, options = {}) => {\r\n    const url = `${API_BASE_URL}${endpoint}`;\r\n\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            ...options.headers,\r\n        },\r\n        ...options,\r\n    };\r\n\r\n    const token = localStorage.getItem('authToken');\r\n    if (token) {\r\n        config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    try {\r\n        const response = await fetch(url, config);\r\n        if (!response.ok) {\r\n            const errorData = await response.json().catch(() => ({}));\r\n            throw new Error(errorData.detail || `HTTP error! status: ${response.status}`);\r\n        }\r\n        return await response.json();\r\n    } catch (error) {\r\n        console.error('API request failed;', error);\r\n        throw error;\r\n    }\r\n};\r\n\r\n\r\nexport const authAPI = {\r\n    register: async (userData) => {\r\n        return apiRequest('/api/auth/register', {\r\n            method: 'POST',\r\n            body: JSON.stringify(userData),\r\n        });\r\n    },\r\n\r\n    login: async (credentials) => {\r\n        return apiRequest('/api/auth/login', {\r\n            method: 'POST',\r\n            body: JSON.stringify(credentials),\r\n        });\r\n    },\r\n    getCurrentUser: async () => {\r\n        return apiRequest('/api/auth/me');\r\n    },\r\n};\r\n\r\nexport const reviewAPI = {\r\n    createReview: async (reviewData) => {\r\n        return apiRequest('/api/reviews', {\r\n            method: 'POST',\r\n            body: JSON.stringify(reviewData),\r\n        });\r\n    },\r\n\r\n    getMovieReviews: async (movieId) => {\r\n        return apiRequest(`/api/reviews/movie/${movieId}`);\r\n    },\r\n\r\n    getUserReviews: async () => {\r\n        return apiRequest('/api/reviews/user');\r\n    },\r\n\r\n    deleteReview: async (reviewId) => {\r\n        return apiRequest(`/api/reviews/${reviewId}`, {\r\n            method: 'DELETE',\r\n        });\r\n    },\r\n};\r\n\r\nexport const movieAPI = {\r\n    getMovieDetails: async (movieId) => {\r\n        return apiRequest('/api/movie')\r\n    }\r\n}\r\n\r\n\r\nexport const healthCheck = async () => {\r\n    return apiRequest('/api/health');\r\n};"],"mappings":"AAAA,MAAMA,YAAY,GAAG,uBAAuB;AAE5C,MAAMC,UAAU,GAAG,MAAAA,CAAOC,QAAQ,EAAEC,OAAO,GAAG,CAAC,CAAC,KAAK;EACjD,MAAMC,GAAG,GAAG,GAAGJ,YAAY,GAAGE,QAAQ,EAAE;EAExC,MAAMG,MAAM,GAAG;IACXC,OAAO,EAAE;MACL,cAAc,EAAE,kBAAkB;MAClC,GAAGH,OAAO,CAACG;IACf,CAAC;IACD,GAAGH;EACP,CAAC;EAED,MAAMI,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;EAC/C,IAAIF,KAAK,EAAE;IACPF,MAAM,CAACC,OAAO,CAACI,aAAa,GAAG,UAAUH,KAAK,EAAE;EACpD;EACA,IAAI;IACA,MAAMI,QAAQ,GAAG,MAAMC,KAAK,CAACR,GAAG,EAAEC,MAAM,CAAC;IACzC,IAAI,CAACM,QAAQ,CAACE,EAAE,EAAE;MACd,MAAMC,SAAS,GAAG,MAAMH,QAAQ,CAACI,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;MACzD,MAAM,IAAIC,KAAK,CAACH,SAAS,CAACI,MAAM,IAAI,uBAAuBP,QAAQ,CAACQ,MAAM,EAAE,CAAC;IACjF;IACA,OAAO,MAAMR,QAAQ,CAACI,IAAI,CAAC,CAAC;EAChC,CAAC,CAAC,OAAOK,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;IAC3C,MAAMA,KAAK;EACf;AACJ,CAAC;AAGD,OAAO,MAAME,OAAO,GAAG;EACnBC,QAAQ,EAAE,MAAOC,QAAQ,IAAK;IAC1B,OAAOvB,UAAU,CAAC,oBAAoB,EAAE;MACpCwB,MAAM,EAAE,MAAM;MACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACJ,QAAQ;IACjC,CAAC,CAAC;EACN,CAAC;EAEDK,KAAK,EAAE,MAAOC,WAAW,IAAK;IAC1B,OAAO7B,UAAU,CAAC,iBAAiB,EAAE;MACjCwB,MAAM,EAAE,MAAM;MACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACE,WAAW;IACpC,CAAC,CAAC;EACN,CAAC;EACDC,cAAc,EAAE,MAAAA,CAAA,KAAY;IACxB,OAAO9B,UAAU,CAAC,cAAc,CAAC;EACrC;AACJ,CAAC;AAED,OAAO,MAAM+B,SAAS,GAAG;EACrBC,YAAY,EAAE,MAAOC,UAAU,IAAK;IAChC,OAAOjC,UAAU,CAAC,cAAc,EAAE;MAC9BwB,MAAM,EAAE,MAAM;MACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACM,UAAU;IACnC,CAAC,CAAC;EACN,CAAC;EAEDC,eAAe,EAAE,MAAOC,OAAO,IAAK;IAChC,OAAOnC,UAAU,CAAC,sBAAsBmC,OAAO,EAAE,CAAC;EACtD,CAAC;EAEDC,cAAc,EAAE,MAAAA,CAAA,KAAY;IACxB,OAAOpC,UAAU,CAAC,mBAAmB,CAAC;EAC1C,CAAC;EAEDqC,YAAY,EAAE,MAAOC,QAAQ,IAAK;IAC9B,OAAOtC,UAAU,CAAC,gBAAgBsC,QAAQ,EAAE,EAAE;MAC1Cd,MAAM,EAAE;IACZ,CAAC,CAAC;EACN;AACJ,CAAC;AAED,OAAO,MAAMe,QAAQ,GAAG;EACpBC,eAAe,EAAE,MAAOL,OAAO,IAAK;IAChC,OAAOnC,UAAU,CAAC,YAAY,CAAC;EACnC;AACJ,CAAC;AAGD,OAAO,MAAMyC,WAAW,GAAG,MAAAA,CAAA,KAAY;EACnC,OAAOzC,UAAU,CAAC,aAAa,CAAC;AACpC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}